# Git Stash

`git stash` एक उपयोगी कमांड है जो आपको उन मामलों में मदद करता है जहाँ आपको अपने स्थानीय परिवर्तनों को संग्रहीत करने और किसी ज़रूरी बग/सुविधा पर काम करने के लिए अपने कोडबेस को नवीनतम कमिट पर रीसेट करने की आवश्यकता हो सकती है।

दूसरे शब्दों में, यह कमांड आपको सभी स्थानीय संशोधनों को सुरक्षित रखते हुए अपनी वर्तमान कार्यशील निर्देशिका को `HEAD` कमिट से मेल खाने के लिए वापस लाने की अनुमति देता है।

जब आप संग्रहीत कोड पर काम करने के लिए तैयार हों, तो बस एक ही कमांड से उन्हें पुनर्स्थापित करें!

## अपना काम संग्रहीत करना

```bash
git stash
```

उदाहरण के लिए, `index.html` नामक एक फ़ाइल पर विचार करें जिसे पिछले कमिट के बाद से संशोधित किया गया है।

![git-stash-example](https://user-images.githubusercontent.com/42696800/136789285-ca33c54c-7f58-465a-a6c8-49d2d541a422.png)

ध्यान दें कि चल रहा `git status` कमांड कहता है कि `git stash` कमांड के निष्पादित होने के बाद कोई नया परिवर्तन नहीं होता है!

यहाँ WIP का अर्थ है कार्य-प्रगति पर और इनका उपयोग आपके कार्य की विभिन्न संग्रहित प्रतियों को अनुक्रमित करने के लिए किया जाता है।

सभी नए बदलावों को स्टैश करने से पहले ध्यान रखने वाली एक ज़रूरी बात यह है कि डिफ़ॉल्ट रूप से, `git stash` **सभी अनट्रैक्ड और अनदेखे फ़ाइलों को स्टैश नहीं करेगा।** (यहाँ, _अनट्रैक्ड फ़ाइलें_ वे फ़ाइलें हैं जो पिछले कमिट का हिस्सा नहीं थीं, यानी आपके स्थानीय रेपो में नई फ़ाइलें)

अगर आप इन अनट्रैक्ड फ़ाइलों को स्टैश में शामिल करना चाहते हैं, तो आपको **-u** विकल्प जोड़ना होगा।

```bash
git stash -u
```

इसी तरह, `.gitignore` फ़ाइल की सभी फ़ाइलें (यानी, _अनदेखे फ़ाइलें_) भी आपके स्टैश से बाहर कर दी जाएँगी। लेकिन आप इन्हें **-a विकल्प** का उपयोग करके शामिल कर सकते हैं।

```bash
git stash -a
```

निम्नलिखित चित्र `git stash` कमांड के व्यवहार को दर्शाते हैं जब उपरोक्त दो विकल्प शामिल होते हैं:

![git-stash-options](https://user-images.githubusercontent.com/42696800/136953468-8bbcbc7e-54e3-4927-b3e7-9ebd96db0fe2.png)

## स्टैश किए गए परिवर्तनों को पुनर्स्थापित करना

```bash
git stash apply
```

इस कमांड का उपयोग कार्य की उस प्रति को स्टैश करने से पहले किए गए सभी स्थानीय संशोधनों को पुनः लागू करने के लिए किया जाता है।

ध्यान दें कि ऐसा करने के लिए इस्तेमाल किया जा सकने वाला एक अन्य कमांड `git stash pop` कमांड है। यहाँ _popping_ का अर्थ है स्टैश की नवीनतम सामग्री को हटाकर उसे अपनी कार्यशील प्रतिलिपि पर पुनः लागू करने की प्रक्रिया।

इन दोनों कमांडों में अंतर यह है कि `git stash pop` कमांड **इन विशिष्ट परिवर्तनों को स्टैश से हटा देगा** जबकि `git stash apply` कमांड **उन परिवर्तनों को पुनर्स्थापित करने के बाद भी स्टैश में बनाए रखेगा**।

पिछले उदाहरण पर ही विचार करें, जिसमें `index.html` फ़ाइल को स्टैश किया गया था। निम्नलिखित चित्र में, आप देख सकते हैं कि उन सभी परिवर्तनों को पुनर्स्थापित करने से आपके स्थानीय रिपॉजिटरी पर क्या प्रभाव पड़ता है।

![git-stash-apply](https://user-images.githubusercontent.com/42696800/136791882-c43f5805-354c-47f1-8866-959d519a932e.png)

लेकिन क्या होगा यदि आपके पास कई स्टैश हैं और आप सुनिश्चित नहीं हैं कि आप किस पर काम शुरू करना चाहते हैं? यहीं पर अगला कमांड काम आता है!

## अपने काम की कई स्टैश की गई प्रतियों को संभालना

स्थानीय रिपॉजिटरी को किसी खास कमिट पर रीसेट करने की प्रक्रिया की तरह, कई स्टैश को संभालने का पहला चरण **उपलब्ध विभिन्न स्टैश पर एक नज़र डालना** है।

```bash
git stash list
```

यह कमांड सभी उपलब्ध स्टैश की एक अनुक्रमित सूची के साथ-साथ उनके हाल के कमिट से संबंधित एक संदेश भी दिखाता है।

निम्नलिखित उदाहरण पर विचार करें जिसमें दो उपलब्ध स्टैश हैं। एक, जब एक नई स्क्रिप्ट फ़ाइल जोड़ी गई थी और दूसरा, जब इस स्क्रिप्ट फ़ाइल में बदलाव किया गया था।

![git-stash-2](https://user-images.githubusercontent.com/42696800/136959951-cee9e074-7132-4b3b-82fb-9ac28c80cce7.png)

ध्यान दें कि सबसे हालिया स्टैश हमेशा 0 के रूप में अनुक्रमित होता है।

एक बार जब आप जान जाते हैं कि आप अपने स्थानीय कोडबेस में किस स्टैश को पुनर्स्थापित करना चाहते हैं, तो उन संशोधनों को पुनर्स्थापित करने के लिए उपयोग किया जाने वाला कमांड है:

```bash
git stash apply n
```

इसे प्राप्त करने के लिए उपयोग किया जाने वाला वैकल्पिक सिंटैक्स इस प्रकार है:

```bash
git stash apply "stash@{n}"
```

यहाँ **n** उस स्टैश का इंडेक्स है जिसे आप पुनर्स्थापित करना चाहते हैं।