# Git कमिट

अपनी फ़ाइलें जोड़ने/स्टेज करने के बाद, अगला चरण वास्तव में परिवर्तनों को कमिट करना है। इसलिए यदि आप `git status` को फिर से चलाते हैं, तो आप देख पाएँगे कि Git हमें बताता है कि कुछ परिवर्तन कमिट करने हैं:

```
कमिट किए जाने वाले परिवर्तन:
(अनस्टेज करने के लिए "git rm --cached <file>..." का उपयोग करें)
नई फ़ाइल: README.md
```

इस स्थिति में, केवल `README.md` फ़ाइल ही कमिट की जाएगी। ऐसा करने के लिए, हम निम्न कमांड चला सकते हैं:

```bash
git commit -m "आपका कमिट संदेश यहाँ"
```

कमांड का संक्षिप्त विवरण:

* `git commit`: यहाँ, हम git को बता रहे हैं कि हम `git add` कमांड के साथ स्टेज किए गए बदलावों को कमिट करना चाहते हैं।
* `-m`: यह फ़्लैग दर्शाता है कि हम इसके ठीक बाद अपना कमिट संदेश निर्दिष्ट करेंगे।
* अंत में, उद्धरण चिह्नों में हमें अपना कमिट संदेश मिल गया है, इसलिए संक्षिप्त और वर्णनात्मक कमिट संदेश लिखना ज़रूरी है।

हमारे मामले में, हम अपने कमिट संदेश को `"Initial commit"` या `"Add README.md"` फ़ाइल में सेट कर सकते हैं, उदाहरण के लिए।

यदि आप `-m` फ़्लैग निर्दिष्ट नहीं करते हैं, तो Git डिफ़ॉल्ट टेक्स्ट एडिटर खोलेगा जिसे हमने अध्याय 5 में कॉन्फ़िगर किया है, जहाँ आप सीधे कमिट संदेश टाइप कर पाएँगे।

फ़ाइलों को स्टेज किए बिना सीधे कमिट करना:

यदि आपने `git add` कमांड का उपयोग करके अपने परिवर्तनों को स्टेज नहीं किया है, तो भी आप निम्न कमांड का उपयोग करके अपने सभी परिवर्तनों को सीधे कमिट कर सकते हैं।
```
git commit -a -m "आपका कमिट संदेश यहाँ"
```
यहाँ `-a` फ़्लैग स्वचालित रूप से सभी परिवर्तनों को स्टेज करेगा और उन्हें कमिट करेगा।

## कमिट पर हस्ताक्षर करना
Git आपको अपने कमिट पर हस्ताक्षर करने की अनुमति देता है। GitHub और GitLab में सत्यापित हस्ताक्षर के साथ हस्ताक्षरित कमिट एक सत्यापित लेबल प्रदर्शित करते हैं, जैसा कि नीचे दिखाया गया है।
![GitHub हस्ताक्षरित कमिट](https://imgur.com/OvY20rM.png)
![GitLab हस्ताक्षरित कमिट](https://i.imgur.com/u5Oait2.png)

कमिट पर हस्ताक्षर करने के लिए, सबसे पहले आपको यह करना होगा:
* सुनिश्चित करें कि आपके होस्ट पर GNU GPG इंस्टॉल है।
* यदि आपके पास पहले से नहीं है, तो एक GPG हस्ताक्षर कुंजी युग्म बनाएँ
```bash
gpg --full-generate-key
```
* GPG कुंजियों के लंबे स्वरूप को सूचीबद्ध करने के लिए `gpg --list-secret-keys --keyid-format=long` कमांड का उपयोग करें
```bash
gpg --list-secret-keys --keyid-format=long
/Users/bobby/.gnupg/pubring.kbx
---------------------------------
sec rsa4096/E630A0A00CAA7AAA 2021-10-01 [SC] [समाप्ति: 2026-10-01]
5F1F417F8A043C8888888888E630F6D35CFA7ECD
uid [अल्टीमेट] बॉबी इलिएव (git कमिट्स पर हस्ताक्षर करने के लिए) <bobby@bobbyiliev.com>
ssb rsa4096/46EE4AA180001AA6 2021-10-01 [E] [समाप्ति: 2026-10-01]
```
* उस GPG कुंजी आईडी का लंबा रूप कॉपी करें जिसका आप उपयोग करना चाहते हैं। इस नमूने में, GPG कुंजी आईडी `E630A0A00CAA7AAA` है।
* सार्वजनिक कुंजी निर्यात करें:
```bash
gpg --armor --export E630A0A00CAA7AAA
```
* अपनी GPG कुंजी कॉपी करें, जो `-----BEGIN PGP PUBLIC KEY BLOCK-----` से शुरू होकर `-----END PGP PUBLIC KEY BLOCK-----` पर समाप्त हो।
* GitHub या GitLab में लॉग इन करें और सेटिंग्स में एक नई GPG कुंजी जोड़ें:
![GitHub सेटिंग्स](https://i.imgur.com/k64wxvW.png)
![GitHub GPG कुंजी जोड़ें पृष्ठ](https://i.imgur.com/sMeVvUN.png)
* Git में अपनी GPG साइनिंग कुंजी सेट करें: (यदि आप प्रत्येक रिपॉजिटरी के लिए साइनिंग कुंजी जोड़ना चाहते हैं, तो `--global` फ़्लैग को छोड़ दें)
```bash
git config --global user.signingkey E630A0A00CAA7AAA
```
* सभी कमिट के लिए स्वचालित साइनिंग सक्षम करें:
```bash
git config --global commit.gpgsign true
```
* या `git commit` में `-S` विकल्प पास करके प्रत्येक कमिट पर साइन करें:
```bash
git commit -S -m "आपका कमिट संदेश"
```

`git commit` कमांड चलाने के बाद, हम वर्तमान स्थिति की जाँच करने के लिए `git status` कमांड का फिर से उपयोग कर सकते हैं:

```bash
git status
```

आउटपुट:

```
मुख्य शाखा पर
कमिट करने के लिए कुछ नहीं, वर्किंग ट्री साफ़
```

जैसा कि आप देख सकते हैं, Git हमें बता रहा है कि कोई भी बदलाव कमिट करने की आवश्यकता नहीं है क्योंकि हमने उन्हें पहले ही कमिट कर दिया है।

चलिए आगे बढ़ते हैं और `README.md` फ़ाइल में एक और बदलाव करते हैं। आप फ़ाइल को अपने पसंदीदा टेक्स्ट एडिटर से खोलकर सीधे बदलाव कर सकते हैं, या आप निम्न कमांड चला सकते हैं:

```bash
echo "Git is awesome!" >> README.md
```

ऊपर दिए गए निर्देश से `README.md` फ़ाइल के नीचे एक नई लाइन जुड़ जाएगी। इसलिए, यदि हम `git status` को फिर से चलाएँ, तो हमें निम्न आउटपुट दिखाई देगा:

```
मुख्य शाखा पर
कमिट के लिए स्टेज नहीं किए गए परिवर्तन:
(जो कमिट किया जाएगा उसे अपडेट करने के लिए "git add <file>..." का उपयोग करें)
(कार्य निर्देशिका में परिवर्तनों को हटाने के लिए "git restore <file>..." का उपयोग करें)
संशोधित: README.md

कमिट में कोई परिवर्तन नहीं जोड़ा गया ("git add" और/या "git commit -a" का उपयोग करें)
```

जैसा कि आप देख सकते हैं, Git ने पता लगाया है कि `README.md` फ़ाइल को संशोधित किया गया है और हमें उस कमांड का उपयोग करने के लिए भी कह रहा है जिसे हमने फ़ाइल को पहले स्टेज/जोड़ने के लिए सीखा है!

यदि आप अपना अंतिम कमिट संदेश बदलना चाहते हैं, तो आप `git commit --amend` कमांड चला सकते हैं। इससे डिफ़ॉल्ट एडिटर खुल जाएगा जहाँ आप अपना कमिट संदेश बदल सकते हैं। साथ ही, यह आपको कमिट परिवर्तनों को बदलने की अनुमति देता है।

`git status` कमांड हमें बदली गई फ़ाइलों का एक अच्छा अवलोकन प्रदान करता है, लेकिन यह हमें यह नहीं दिखाता कि वास्तव में क्या बदलाव हुए हैं। अगले अध्याय में, हम सीखेंगे कि पिछले कमिट और वर्तमान बदलावों के बीच अंतर कैसे जांचें।

किसी विशेष फ़ाइल को बदलने वाले कमिट की जाँच करने के लिए, आप `--follow` फ़्लैग का उपयोग कर सकते हैं:

```bash
git log --follow [file]
```

ऊपर दिए गए उदाहरण में वे कमिट दिखाए गए हैं जिन्होंने फ़ाइल को बदला है, यहाँ तक कि नाम बदलने के बाद भी।