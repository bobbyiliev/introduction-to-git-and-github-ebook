
# Git रीबेस

रीबेसिंग का इस्तेमाल अक्सर मर्जिंग के विकल्प के रूप में किया जाता है। किसी ब्रांच को रीबेस करने से एक ब्रांच के कमिट्स को दूसरी ब्रांच के कमिट्स के ऊपर लागू करके एक ब्रांच को दूसरी ब्रांच के साथ अपडेट किया जाता है। उदाहरण के लिए, अगर आप किसी ऐसी फ़ीचर ब्रांच पर काम कर रहे हैं जो डेव ब्रांच के साथ पुरानी हो चुकी है, तो फ़ीचर ब्रांच को डेव पर रीबेस करने से डेव के सभी नए कमिट्स फ़ीचर में शामिल हो जाएँगे। यह दृश्य रूप में कुछ इस प्रकार दिखाई देता है:

### कमांड का दृश्य:
![image](https://user-images.githubusercontent.com/54790525/138965417-52f36e80-fbd1-4eaa-8914-1a228988c4f4.png)
![image](https://user-images.githubusercontent.com/54790525/138965429-87265772-b89a-4a31-9deb-3a902d885540.png)

### सिंटैक्स:
```bash
git rebase feature dev
```
जहाँ branch1 वह शाखा है जिसे हम मास्टर पर रीबेस करना चाहते हैं।

### मर्ज और रीबेस के बीच अंतर:
कई लोग सोचते हैं कि `मर्ज` और `रीबेस` कमांड एक ही काम करते हैं, लेकिन वास्तव में ये पूरी तरह से अलग हैं और हम इस पर आगे चर्चा करेंगे।

- #### मर्ज:
इस कमांड का उपयोग किसी शाखा से दूसरी शाखा में बदलावों को एकीकृत करने के लिए किया जाता है, जिसमें मर्ज की गई शाखा को उसके मूल में रखा जाता है ताकि आप चाहें तो कोड के पुराने संस्करण पर आसानी से वापस लौट सकें और निम्न चित्र इसे दर्शाता है:
![मर्ज](https://i.imgur.com/jD4yhZ5.png)

### रीबेसिंग का सामान्य उपयोग
#### फ़ीचर शाखा को अपडेट करना
मान लीजिए कि आप किसी फ़ीचर शाखा पर काम कर रहे हैं और अपने काम में व्यस्त हैं।
![image](https://user-images.githubusercontent.com/54790525/138965621-337737eb-6758-4556-891b-54795a4735df.png)

फिर आपको dev पर कुछ नए कमिट दिखाई देते हैं जिन्हें आप अपनी फ़ीचर ब्रांच में रखना चाहेंगे, क्योंकि ये नए कमिट फ़ीचर के कार्यान्वयन को प्रभावित कर सकते हैं।

![image](https://user-images.githubusercontent.com/54790525/138965666-88f517f6-2906-4c7e-8937-e53404812c21.png)

dev के साथ अपडेट रहने के लिए आप अपनी फ़ीचर ब्रांच से git rebase dev चलाने का निर्णय लेते हैं।
हालाँकि, जब आप रीबेस कमांड चलाते हैं, तो फ़ीचर में आपके द्वारा किए गए बदलावों और डेव पर नए कमिट्स के बीच कुछ टकराव होता है। शुक्र है, रीबेस प्रक्रिया एक-एक करके हर कमिट से गुज़रती है और इसलिए जैसे ही उसे किसी कमिट में टकराव का पता चलता है, git टर्मिनल में एक संदेश देगा जिसमें बताया जाएगा कि किन फ़ाइलों को हल करने की ज़रूरत है। टकराव हल करने के बाद, आप कमिट में अपने बदलाव git add कर सकते हैं और रीबेस प्रक्रिया जारी रखने के लिए git rebase --continue चला सकते हैं। अगर कोई और टकराव नहीं है, तो आपने अपनी फ़ीचर ब्रांच को डेव पर सफलतापूर्वक रीबेस कर लिया होगा।

![image](https://user-images.githubusercontent.com/54790525/138965979-f207053e-afcf-49a6-a392-fe4fd530011a.png)

अब आप फ़ीचर में शामिल डेव के नवीनतम कमिट्स के साथ अपने फ़ीचर पर काम करना जारी रख सकते हैं और सब कुछ फिर से ठीक हो जाएगा। यदि डेवलपर शाखा को अतिरिक्त कमिट के साथ अपडेट किया जाता है, तो यह प्रक्रिया दोहराई जा सकती है।

- #### रीबेस:
दूसरी ओर, `रीबेस` कमांड का उपयोग शाखा के आधार को वर्तमान शाखा के अंतिम कमिट पर आधारित करने के लिए किया जाता है, जिससे वे एक शाखा बन जाती हैं, जैसा कि ऊपर चित्र में दिखाया गया है।

### इंटरएक्टिवली रीबेसिंग:

आप किसी शाखा को किसी अन्य `इंटरएक्टिवली` पर भी रीबेस कर सकते हैं। इसका मतलब है कि आपको विकल्पों के लिए संकेत दिया जाएगा।
मूल कमांड इस प्रकार है:

```bash
git rebase -i feature main
```

यह आपका पसंदीदा एडिटर (संभवतः `vi` या `vscode`) खोलेगा।

आइए एक उदाहरण बनाएँ:

```bash
git switch main
git checkout -b feature-interactive
echo "<p>इंटरैक्टिव रीबेसिंग बहुत बढ़िया है</p>" >> feature1.html
git commit -am "इंटरैक्टिव रीबेस का परीक्षण करने के लिए प्रतिबद्ध करें"
echo "<p>इंटरैक्टिव रीबेसिंग से आप वाकई बेहतरीन काम कर सकते हैं</p>" >> feature1.html
git commit -am "इंटरैक्टिव रीबेस का परीक्षण करने के लिए प्रतिबद्ध करें"
```

तो अब आप `feature-interactive` शाखा पर हैं और इस शाखा पर एक ऐसा कमिट है जो `main` शाखा पर मौजूद नहीं है, और `main` पर एक नया कमिट है जो आपकी शाखा में नहीं है।

अब इंटरैक्टिव रीबेस कमांड का उपयोग करें:

```bash
git rebase -i main
```

आपका पसंदीदा एडिटर (`vi` जैसा यहाँ है या `vscode` अगर आपने इसे सही तरीके से सेट किया है) कुछ इस तरह से खुला होना चाहिए:

```
इंटरैक्टिव रीबेस का परीक्षण करने के लिए a21b178 कमिट चुनें
इंटरैक्टिव रीबेस का परीक्षण करने के लिए cd3400c कमिट चुनें

# 1d152d4..a21b178 को 1d152d4 पर रीबेस करें
#
# p, pick <commit> = कमिट का उपयोग करें
# r, reword <commit> = कमिट का उपयोग करें, लेकिन कमिट संदेश को संपादित करें
# e, edit <commit> = कमिट का उपयोग करें, लेकिन संशोधन के लिए रोकें
# s, squash <commit> = कमिट का उपयोग करें, लेकिन पिछले कमिट में मिलाएँ
# f, fixup <commit> = "squash" जैसा, लेकिन इस कमिट के लॉग संदेश को हटा दें
# x, exec <command> = कमांड चलाएँ ( शेष पंक्ति) शेल का उपयोग करके
# b, break = यहाँ रुकें (बाद में 'git rebase --continue' के साथ रीबेस जारी रखें)
# d, drop <commit> = कमिट हटाएँ
# l, label <label> = वर्तमान HEAD को एक नाम से लेबल करें
# t, reset <label> = HEAD को एक लेबल पर रीसेट करें
# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
# . मूल मर्ज कमिट के
# . संदेश (या वनलाइन, यदि कोई मूल मर्ज कमिट
# . निर्दिष्ट नहीं किया गया था) का उपयोग करके एक मर्ज कमिट बनाएँ। कमिट संदेश को पुनः लिखने के लिए -c <commit> का उपयोग करें।
#
# इन पंक्तियों को पुनर्व्यवस्थित किया जा सकता है; इन्हें ऊपर से नीचे की ओर निष्पादित किया जाता है।
#
# यदि आप यहाँ एक पंक्ति हटाते हैं, तो वह कमिट खो जाएगा।
#
# हालाँकि, यदि आप सब कुछ हटा देते हैं, तो रीबेस निरस्त हो जाएगा।
# #
# ध्यान दें कि खाली कमिट्स पर टिप्पणी की गई है
```

जैसा कि आप यहाँ देख सकते हैं, पहली पंक्तियाँ इस `feature-interactive` शाखा में आपके द्वारा किए गए कमिट्स हैं। फिर, फ़ाइल का शेष भाग सहायता संदेश है।
यदि आप इस सहायता संदेश को ध्यान से देखेंगे, तो आप पाएंगे कि इसमें कई विकल्प हैं। इनका उपयोग करने के लिए, आपको बस उस कमिट लाइन के आगे कमांड का नाम या उसका शॉर्टकट अक्षर लगाना होगा जिस पर आप काम करना चाहते हैं।

मूल कमांड `pick` है, जिसका अर्थ है कि वर्तमान रीबेस अपना काम करने के लिए इन दो कमिट्स का उपयोग करेगा।

हमारे मामले में, अगर आप दूसरे कमिट के कमिट संदेश को अपडेट करना चाहते हैं, तो आप इस फ़ाइल को इस तरह अपडेट करेंगे (हम सिर्फ़ पहली पंक्तियाँ दिखाते हैं क्योंकि बाकी अपडेट नहीं हैं):

```
पिक a21b178 इंटरएक्टिव रीबेस का परीक्षण करने के लिए कमिट
r cd3400c इंटरएक्टिव रीबेस का परीक्षण करने के लिए कमिट

# 1d152d4..a21b178 को 1d152d4 पर रीबेस करें
#
...
```

फिर आप फ़ाइल को सेव करेंगे, क्योंकि यहाँ यह `vi` है, आप `:` कुंजी दबाएँगे और `wq` टाइप करेंगे। अब आपको उसी एडिटर में एक और फ़ाइल खुली हुई दिखाई देगी, जहाँ आप अपने कमिट संदेश को संपादित कर सकते हैं, फिर फ़ाइल को सेव कर सकते हैं और बस।

आप निम्न कमांड से परिणाम देख सकते हैं:

```bash
git log
```

अब जब आप इस कमांड का उपयोग करने की मूल बातें जान गए हैं, तो सहायता संदेश पर एक नज़र डालें। इसमें कुछ उपयोगी कमेंड हैं। मेरे पसंदीदा शब्द हैं `रीवर्ड`, `फिक्सअप` और `ड्रॉप`, लेकिन आप स्वयं भी प्रयोग करने के लिए स्वतंत्र हैं।
